@import "partials/base";


/* Off-Canvas Layout */

.container { width: 100%;overflow: hidden;}

*[role="navigation"],
*[role="main"]{
	-webkit-transition: .2s all ease;
	-moz-transition: .2s all ease;
	-o-transition: .2s all ease;
	-ms-transition: .2s all ease;
	transition: .2s all ease;

	width:		100%;
	padding:	1em 1em 1em 0;

	display:	block;
	position:	relative;
}

*[role="navigation"],
*[role="main"]{
	-webkit-transition: .2s display none;
	-moz-transition:    .2s display none;
	-o-transition:      .2s display none;
	-ms-transition:     .2s display none;
	transition:         .2s display none;
}


.js [role="navigation"]{
	margin-left: -100%;
	float: left;
	z-index: 2;
	height:0px;
}


.active-nav [role="navigation"]{
	margin-left: 0;
	width: 80%;
	height:auto;
}


.js [role="main"]{
	margin-left: 0;
	float:       left;
	z-index:     1;
}

.active-nav [role="main"]{
	margin-right: -100%;
}

.active-sidebar [role="navigation"] {
	margin-left: -200%;
}
.active-sidebar [role="main"] {
	margin-left: -90%;
}

.active-nav [role="main"] {
	-webkit-transition: .1s all ease;
	-moz-transition:    .1s all ease;
	-o-transition:      .1s all ease;
	-ms-transition:     .1s all ease;
	transition:         .1s all ease;
}

/* Off Canvas Navigation */

.off-canvas-navigation {
	width:    100%;
	overflow: hidden;
	display:  block;
}


.off-canvas-navigation ul li.menu-item{
	margin-top: -2em;
	top:		50%;
	position: 	fixed;
	z-index:	3;


	margin-left: -0.3em;
	
	@include rotate(90deg);


	transform-origin:	left;
	-webkit-transform-origin:	left;
	-ms-transform-origin:	left;

}



.menu-button{
	padding:    0.5em 1em;
	font-size:  0.9em;
	background: #333;
	color:      #fff;
	position:	relative;
	top:		0.25em;
	border-radius:	1em 1em 0 0;
}


a.menu-button:hover{
	text-decoration: none;
	background: rgba(0,0,0,.35);
	color: #ddd;
}



/* End off-Canvas Layout */




/* Result navigation */

.search-results-navigation {
	clear:				both;
	position:			relative;
	border-bottom:		1px solid #E4E4E4;
}


.result-pagination{
	float:			none;
	margin:			0;
	width:			100%;
	padding-left:	0;
	clear:			both;
	position:		relative;
	z-index:		1;
	display:		table;

	li{
		list-style: none;
		display:	table-cell;
		border-image-width:	0;
	}

	.disabled{
		display:none;
	}
}



#page {
	outline: medium none !important;
	width: 4em;
	text-align:center;
}

.result-pagination a:focus{
    border-bottom: 1px dotted #4C7ECF;
}

.nav{
	padding:			.25em 0;

	box-sizing:			border-box;
	-moz-box-sizing:	border-box;
	-webkit-box-sizing:	border-box;

	display:			inline-table;
	width:				100%;	/* needed for safari */

	.eu-menu{
		display:		inline-block;
		border:			1px solid #e4e4e4;
		margin-left:	0.5em;
		padding-left:	0.25em;
		padding-right:	0.25em;
		z-index:		101;
	}

	.pagination{
		margin-top:		0;	/* override a .pagination{} rule in all.css */
	}

	/* override glow on selected menu item */

	.eu-menu.selected span.open-menu,
	.eu-menu.selected .item.active{
		text-shadow:	none !important;
	}


	.of{
		display:none;
	}

	.of-bracket{
		color:#333 !important;	/* fix for strange iphone bug (wanting to color this as a link) */
	}

	/* workaround */
	
	.of-bracket:before{
		content:'(';
	}

	/* workaround */

	.of-bracket:after{
		content:')';
	}

	.of-value{
		display:	block;
	}

	.spaced:before{
		content:'';
	}

	.spaced:after{
		content:'';
	}
}



.nav>div{
	display:	block;
	text-align:	center;

	margin:		1em;

	span,
	.menu-wrapper,
	.pagination{
		white-space:	nowrap;
	}
}

.nav-top,
.nav-bottom{
	border-bottom:	1px solid #DADADA;
	border-top:	1px solid #DADADA;
}


.nav-numbers{
	text-align:		center;
	white-space:	nowrap;
	font-size:		0.75em;

	input{
		font-size:	1em;
		border:		1px solid #E4E4E4;
		text-align:	center;
	}
}

/* facets & filters */

#facets-actions li {
	margin: 0;
	padding: 0;
	line-height: 120%;
	position: relative;
}

#facets .filter-section .remove-filter span{
  position: absolute;
  top: 0;
  right: 0;
  color: #FF0000;
}

.filter-crop{
  padding-right: 1em;
}

#facets h4 label{
	display: inline-block;
	padding-right: 1.5em;
}

#facets h4 .fcount{
  font-weight: bold;
}


#facets input[type='checkbox'],
#facets input[type='radio']{
  position: absolute;
}

#facets-actions input[type='submit'] {
  display: none;
}

#facets-actions ul ul h4 a {
  margin-left: 1.5em;
}


/* results */

#result-tabs{
	margin-top:    0.5em;
	margin-bottom: 1em;
}
	
.results {
	position:		relative;
	padding-top:	1em;
}

.results ul {
	list-style: none;
}

.results li {

	display:		inline-block;

	margin-bottom:	1em;
	margin-top:  	1px;
	width:			50%;

	line-height:	120%;
	font-size:		90%;

	.story{
		padding:		1em;
		display: inline-block;
		-webkit-box-shadow:	1px 1px 3px rgba(34,25,25,0.8);
		-moz-box-shadow:		1px 1px 3px rgba(34,25,25,0.8);
		-ms-box-shadow:		1px 1px 3px rgba(34,25,25,0.8);
		-o-box-shadow:		1px 1px 3px rgba(34,25,25,0.8);
		box-shadow:			1px 1px 3px rgba(34,25,25,0.8);
		width:100%;
	}

	.story-provider{
		display: block;
	}

	&.col-1,
	&.col-2,
	&.col-3{
		padding-left:  0;
		padding-right: 3px;
	}

	&.col-odd{
		padding-left:	1px;
		padding-right:	0.5em;
	}
	&.col-even{
		padding-left: 0.5em;
	}


}

.results li a {
	display: block;
	text-align: center;
	margin-bottom: 1em;
}

.results li img {
	max-width: 100%;
}

.ajax-overlay{
    position:	absolute;
    width:		100%;
    height:		100%;
    background:	black url(/assets/v3/images/icons/spinner.gif) center center no-repeat;
    opacity:	.5;
    z-index:	12;
    left:		0;
    top:		0;
	
}


/* data showing / hiding rules */

@media only screen and (min-width: 22em) {


	.nav{
		/* workaround */
		.of-bracket:after{}
		/* workaround */
		
		.of-bracket:before{
			content:'';
		}

		/* workaround */
		.of-bracket:after{
			content:'';
		}

		.of,
		.of-value{
			display:inline;
		}
	}

}


/* desktop general */

@media only screen and ( min-width: $break-desktop ){

	.nav{
		.spaced:before{
			content:' ';
		}

		.spaced:after{
			content:' ';
		}
	}


	.jump-to-page{
		margin-top:	0;
	}


	/* Off-Canvas Layout */

	.menu-button {
		display: none;
	}

	.js [role="navigation"] {
		height:auto;
		width: 1px;
		margin-left: 0;
	}

	.js [role="main"] {
		width: 100%;
	}

	#facets{
		width:12em;
	}

	/* min-w buffer*/

	.container{
		display: table;
	}

	.nav-top,
	.nav-bottom{
		border-spacing: 0;
	}

	.js [role="main"],
	.js [role="navigation"] {
		display: table-cell;
		float:   none;
		padding: 0;
	}

	.nav{
		margin-left:   1em;
	}

	.off-canvas-navigation {
		display: none;		/* even off-screen, table border-spacing messed up by this */
	}


	/* end min-w buffer*/

	.active-sidebar [role="navigation"] {
		margin-left: -100%;
	}
	.active-sidebar [role="main"] {
		margin-left: 0;
		width: 60%;
	}

	/* End Off-Canvas Layout */


	.results li{
		width:	33.33%;
	}

}


@media only screen and (max-width: $break-desktop) {

	.nav>div.show-on-22{
		display:none;
	}

	.results li{
		width:	50%;
	}

}

@media only screen and (min-width: $break-desktop) {


	.results li {
		&.col-odd,
		&.col-even{
			padding-left:	0;
			padding-right:	0;
		}

		&.col-1{
			padding-right: 0.5em;
		}
		&.col-2{
			padding-left: 0.5em;
			padding-right: 0.5em;
		}
		&.col-3{
			padding-left: 0.5em;
			padding-right: 3px;
		}



	}





	.facets-column{
		min-width: 	   20em;
		padding-right: 1em;
	}


	.show-on-22{display:table-cell !important;}

	.result-pagination{
		float:		right;
		width:		auto;
		font-size:	1em;
		width:		auto;
	}


	.nav>div{
		display:		table-cell;
		vertical-align:	bottom;
	}

	.nav>.count{
		text-align:	center;
	}
	.nav>.count span{
		position: relative;
		top:      -1px;
	}

	.nav-numbers{
		font-size:	1em;
		width:		auto;
	}

	.nav>.menu-wrapper{
		text-align:	left;
	}

	.nav>.pagination{
		text-align:	right;
	}


	/* Off-Canvas Layout */

	.container {
		margin:         0 auto;
		border-spacing: 0;
	}

	.js [role="navigation"] {
		width: 24%;
	}

	.js [role="main"] {
		width:       75%;
		margin-left: 1%;
	}

	#facets{
		width:auto;
	}

	/* min-w buffer*/

	.container{
		display: block;
	}

	.js [role="main"],
	.js [role="navigation"] {
		display: block;
		float:   left;
	}

	.nav,
	.results{
		margin-left: 0;
	}

	/* end min-w buffer*/


	*[role="main"] h1 {
		text-align: center;
	}

	/* End off-canvas layout */

}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    /* display: none; <- Crashes Chrome on hover */
    -webkit-appearance: none;
    margin: 0;
}

.search-results-navigation{
	border-bottom:	1px solid #E4E4E4;
	margin-bottom:	1em;
}


.top{
	border-top:	1px solid #E4E4E4;
}
